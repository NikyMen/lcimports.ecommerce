import{c as h,j as e}from"./createLucideIcon.V6CX3xPE.js";import{r as m}from"./index.Ba-IbuDT.js";import{u as j,S as y}from"./cartStore.VKx_K2hc.js";import{S as p,E as k,a as w}from"./StockIndicator.BcwvyifC.js";import{X as C}from"./x.ByTsRx3w.js";import{C as S,a as I}from"./chevron-right.C9gZnoKy.js";import{S as n}from"./star.Cy-Gx_tK.js";import{P as f}from"./package.DAesrQNt.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=h("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=h("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),E=({product:s,isOpen:i,onClose:c})=>{const[l,r]=m.useState(0),[o,d]=m.useState(0),x=j(a=>a.addItem),t=s.images&&s.images.length>0?s.images:s.image?[s.image]:[],u=()=>{if(s.stock==="sin-stock"){alert("Sin stock: Este producto no está disponible actualmente");return}x(s,1),alert(`¡Producto agregado! ${s.name} se agregó al carrito`)},b=()=>{r(a=>(a+1)%t.length),d(a=>(a+1)%t.length)},N=()=>{r(a=>(a-1+t.length)%t.length),d(a=>(a-1+t.length)%t.length)},v=a=>{r(a),d(a)};return i?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s.name}),e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(C,{size:24})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:t[l]?e.jsx("img",{src:t[l],alt:s.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400",children:"Sin imagen"})})}),t.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:N,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 hover:bg-opacity-100 rounded-full p-2 shadow-lg transition-all",children:e.jsx(S,{size:20,className:"text-gray-600"})}),e.jsx("button",{onClick:b,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 hover:bg-opacity-100 rounded-full p-2 shadow-lg transition-all",children:e.jsx(I,{size:20,className:"text-gray-600"})})]}),t.length>1&&e.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:e.jsxs("div",{className:"bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm",children:[l+1," / ",t.length]})})]}),t.length>1&&e.jsx("div",{className:"grid grid-cols-4 gap-2",children:t.map((a,g)=>e.jsx("button",{onClick:()=>v(g),className:`aspect-square rounded-lg overflow-hidden border-2 transition-all ${o===g?"border-primary-500 ring-2 ring-primary-200":"border-gray-200 hover:border-gray-300"}`,children:a?e.jsx("img",{src:a,alt:`${s.name} ${g+1}`,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-xs",children:"Sin imagen"})})},g))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 text-primary-800",children:s.category}),e.jsx(p,{stock:s.stock})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(a=>e.jsx(n,{className:`h-5 w-5 ${a<=4?"text-yellow-400 fill-current":"text-gray-300"}`},a)),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:"(4.0) - 128 reseñas"})]}),e.jsxs("div",{className:"text-3xl font-bold text-primary-600",children:["$",s.price.toFixed(2)]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Descripción"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:s.description})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Características"}),e.jsxs("ul",{className:"space-y-2 text-gray-600",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full mr-3"}),"Producto de alta calidad"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full mr-3"}),"Garantía incluida"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full mr-3"}),"Envío rápido disponible"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:u,disabled:s.stock==="sin-stock",className:`w-full flex items-center justify-center space-x-2 px-6 py-3 rounded-lg font-semibold transition-colors ${s.stock==="sin-stock"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700"}`,children:[e.jsx(y,{size:20}),e.jsx("span",{children:s.stock==="sin-stock"?"Sin Stock":"Agregar al Carrito"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(P,{size:18}),e.jsx("span",{children:"Favoritos"})]}),e.jsxs("button",{className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx($,{size:18}),e.jsx("span",{children:"Compartir"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Información del Producto"}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Categoría:"})," ",s.category]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Disponibilidad:"}),e.jsx("span",{className:`ml-2 ${s.stock==="sin-stock"?"text-red-600":s.stock==="stock-bajo"?"text-yellow-600":"text-green-600"}`,children:s.stock==="sin-stock"?"Sin stock":s.stock==="stock-bajo"?"Stock bajo":"En stock"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Creado:"})," ",new Date(s.createdAt).toLocaleDateString()]})]})]})]})]})})]})}):null},z=({product:s})=>{const[i,c]=m.useState(!1),l=j(x=>x.addItem),r=x=>{if(x.stopPropagation(),s.stock==="sin-stock"){alert("Sin stock: Este producto no está disponible actualmente");return}l(s,1),alert(`¡Producto agregado! ${s.name} se agregó al carrito`)},o=()=>{c(!0)},d=()=>{c(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden cursor-pointer group",onClick:o,children:[e.jsxs("div",{className:"relative",children:[s.image?e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center",children:e.jsx(f,{className:"h-16 w-16 text-gray-400"})}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center",children:e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx("div",{className:"bg-white bg-opacity-90 rounded-full p-3",children:e.jsx(k,{className:"h-6 w-6 text-gray-700"})})})}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(p,{stock:s.stock})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:s.category})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:s.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(n,{className:"h-4 w-4 text-yellow-400 fill-current"}),e.jsx(n,{className:"h-4 w-4 text-yellow-400 fill-current"}),e.jsx(n,{className:"h-4 w-4 text-yellow-400 fill-current"}),e.jsx(n,{className:"h-4 w-4 text-yellow-400 fill-current"}),e.jsx(n,{className:"h-4 w-4 text-gray-300"}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"(4.0)"})]}),e.jsx(w,{stock:s.stock})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:["$",s.price.toFixed(2)]})}),e.jsxs("button",{onClick:r,disabled:s.stock==="sin-stock",className:`flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-colors ${s.stock==="sin-stock"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700"}`,children:[e.jsx(y,{size:16}),e.jsx("span",{children:s.stock==="sin-stock"?"Sin stock":"Agregar"})]})]})]})]}),e.jsx(E,{product:s,isOpen:i,onClose:d})]})},G=({onCartUpdate:s})=>{const[i,c]=m.useState([]);return m.useEffect(()=>{(async()=>{try{const r=await fetch("/api/products");if(!r.ok)throw new Error(`Error ${r.status}: ${r.statusText}`);const o=await r.json();c(o)}catch(r){console.error("Error al cargar productos:",r)}})()},[]),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Nuestros Productos"}),e.jsx("p",{className:"text-gray-600",children:"Descubre nuestra selección de productos de calidad"})]}),i.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map(l=>e.jsx(z,{product:l},l.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(f,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay productos disponibles"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Los productos aparecerán aquí cuando estén disponibles."})]})]})};export{G as ProductGrid};

import{c as y,j as e}from"./createLucideIcon.V6CX3xPE.js";import{r as x}from"./index.Ba-IbuDT.js";import{u as g,S as u}from"./cartStore.VKx_K2hc.js";import{P as I}from"./package.DAesrQNt.js";import{P as S,T,U as N}from"./user.CeD2SeTK.js";import{X as f}from"./x.ByTsRx3w.js";import{M as v,P as M}from"./phone.ALLnAV3F.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=y("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=y("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),P=({onClick:s})=>{const t=g(a=>a.getTotalItems)();return e.jsxs("button",{onClick:s,className:"relative p-2 text-gray-600 hover:text-primary-600 transition-colors",title:"Ver carrito",children:[e.jsx(u,{size:24}),t>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:t>99?"99+":t})]})},F=({item:s})=>{const{updateQuantity:n,removeItem:t}=g(),a=()=>{n(s.product.id,s.quantity+1)},o=()=>{s.quantity>1?n(s.product.id,s.quantity-1):t(s.product.id)},i=()=>{t(s.product.id)},h=s.product.price*s.quantity;return e.jsxs("div",{className:"flex items-center space-x-4 py-4 border-b border-gray-200 last:border-b-0",children:[e.jsx("div",{className:"flex-shrink-0",children:s.product.image?e.jsx("img",{src:s.product.image,alt:s.product.name,className:"h-16 w-16 rounded-lg object-cover"}):e.jsx("div",{className:"h-16 w-16 rounded-lg bg-gray-200 flex items-center justify-center",children:e.jsx(I,{className:"h-8 w-8 text-gray-400"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:s.product.name}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:s.product.category}),e.jsxs("p",{className:"text-sm font-medium text-primary-600",children:["$",s.product.price.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:o,className:"p-1 rounded-full hover:bg-gray-100 transition-colors",title:"Disminuir cantidad",children:e.jsx(E,{size:16,className:"text-gray-600"})}),e.jsx("span",{className:"w-8 text-center text-sm font-medium",children:s.quantity}),e.jsx("button",{onClick:a,className:"p-1 rounded-full hover:bg-gray-100 transition-colors",title:"Aumentar cantidad",children:e.jsx(S,{size:16,className:"text-gray-600"})})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",h.toFixed(2)]})}),e.jsx("button",{onClick:i,className:"p-1 text-red-400 hover:text-red-600 transition-colors",title:"Eliminar del carrito",children:e.jsx(T,{size:16})})]})},O=({isOpen:s,onClose:n})=>{const{items:t,total:a,clearCart:o,getTotalItems:i}=g(),[h,m]=x.useState(!1),[c,p]=x.useState({name:"",phone:""}),[j,b]=x.useState(!1),C=async()=>{if(t.length!==0){b(!0);try{const r={products:t,total:a,customerInfo:c.name||c.phone?c:void 0},l=await fetch("/api/whatsapp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),d=await l.json();l.ok?(window.open(d.whatsappUrl,"_blank"),m(!1),p({name:"",phone:""})):alert(`Error: ${d.error}`)}catch(r){console.error("Error al enviar consulta:",r),alert("Error al procesar la consulta. Inténtalo de nuevo.")}finally{b(!1)}}},k=async()=>{if(t.length!==0)try{const l=await fetch("/api/whatsapp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({products:t,total:a})}),d=await l.json();l.ok?window.open(d.whatsappUrl,"_blank"):alert(`Error: ${d.error}`)}catch(r){console.error("Error al generar enlace de WhatsApp:",r),alert("Error al generar el enlace de WhatsApp")}},z=()=>{confirm("¿Estás seguro de que quieres vaciar el carrito?")&&o()};return e.jsxs(e.Fragment,{children:[s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:n}),e.jsx("div",{className:`fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-xl transform transition-transform duration-300 ease-in-out z-50 ${s?"translate-x-0":"translate-x-full"}`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{className:"h-6 w-6 text-primary-600"}),e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Carrito (",i(),")"]})]}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(f,{size:20,className:"text-gray-500"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:t.length>0?e.jsx("div",{className:"space-y-4",children:t.map(r=>e.jsx(F,{item:r},r.product.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[e.jsx(u,{className:"h-16 w-16 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tu carrito está vacío"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Agrega algunos productos para comenzar"}),e.jsx("button",{onClick:n,className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 transition-colors",children:"Continuar comprando"})]})}),t.length>0&&e.jsxs("div",{className:"border-t border-gray-200 p-4 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total:"}),e.jsxs("span",{className:"text-xl font-bold text-primary-600",children:["$",a.toFixed(2)]})]}),e.jsxs("button",{onClick:k,className:"w-full bg-green-600 text-white py-3 px-4 rounded-md hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(v,{size:20}),e.jsx("span",{children:"Consultar Stock por WhatsApp"})]}),e.jsxs("button",{onClick:()=>m(!0),className:"w-full bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-600 transition-colors flex items-center justify-center space-x-2 text-sm",children:[e.jsx(N,{size:16}),e.jsx("span",{children:"Con datos personales"})]}),e.jsx("button",{onClick:z,className:"w-full text-gray-600 py-2 px-4 rounded-md hover:bg-gray-100 transition-colors",children:"Vaciar carrito"})]})]})}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-60",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Consulta de Stock"}),e.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(f,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Opcional: Agrega tu información para una mejor atención"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",value:c.name,onChange:r=>p(l=>({...l,name:r.target.value})),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Tu nombre"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teléfono"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"tel",value:c.phone,onChange:r=>p(l=>({...l,phone:r.target.value})),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Tu número de teléfono"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancelar"}),e.jsx("button",{onClick:C,disabled:j,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:opacity-50 flex items-center justify-center space-x-2",children:j?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Enviando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{size:16}),e.jsx("span",{children:"Enviar por WhatsApp"})]})})]})]})]})})})]})},U=()=>{const[s,n]=x.useState(!1),[t,a]=x.useState(!1),o=()=>{n(!s)},i=()=>{a(!t)};return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-30",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("a",{href:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:"/logo.png",alt:"LC Imports Logo",className:"h-8 w-8 object-contain"}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"LC Imports"})]})}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[e.jsx("a",{href:"/",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Inicio"}),e.jsx("a",{href:"/#productos",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Productos"}),e.jsx("a",{href:"/#vehiculos",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Vehículos"}),e.jsx("a",{href:"/nosotros",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Nosotros"}),e.jsxs("a",{href:"/admin",className:"text-gray-700 hover:text-primary-600 transition-colors flex items-center space-x-1",children:[e.jsx(w,{size:16}),e.jsx("span",{children:"Admin"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(P,{onClick:o}),e.jsx("button",{onClick:i,className:"md:hidden p-2 text-gray-600 hover:text-primary-600 transition-colors",children:t?e.jsx(f,{size:24}):e.jsx(A,{size:24})})]})]}),t&&e.jsx("div",{className:"md:hidden border-t border-gray-200 py-4",children:e.jsxs("nav",{className:"flex flex-col space-y-4",children:[e.jsx("a",{href:"/",className:"text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>a(!1),children:"Inicio"}),e.jsx("a",{href:"/#productos",className:"text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>a(!1),children:"Productos"}),e.jsx("a",{href:"/#vehiculos",className:"text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>a(!1),children:"Vehículos"}),e.jsx("a",{href:"/nosotros",className:"text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>a(!1),children:"Nosotros"}),e.jsxs("a",{href:"/admin",className:"text-gray-700 hover:text-primary-600 transition-colors flex items-center space-x-2",onClick:()=>a(!1),children:[e.jsx(w,{size:16}),e.jsx("span",{children:"Panel de Administración"})]})]})})]})}),e.jsx(O,{isOpen:s,onClose:()=>n(!1)})]})};export{U as Header};
